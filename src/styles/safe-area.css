/* iOS Safe Area Support */
:root {
  /* Define safe area variables for fallback */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Global fix: DO NOT add padding to root - let headers handle it */
#root {
  /* NO top padding - headers will handle safe area */
  /* Bottom padding for home indicator */
  padding-bottom: env(safe-area-inset-bottom);
  /* Side padding for landscape orientation */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  /* Ensure full height */
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
  /* Prevent scrolling issues */
  position: relative;
  overflow: hidden;
}

/* IMPORTANT: Prevent any child from breaking out of safe area */
#root > * {
  max-width: 100%;
}

/* For pages that need to opt-out of root padding */
.no-safe-padding {
  margin-top: calc(-1 * env(safe-area-inset-top));
  margin-bottom: calc(-1 * env(safe-area-inset-bottom));
  margin-left: calc(-1 * env(safe-area-inset-left));
  margin-right: calc(-1 * env(safe-area-inset-right));
}

/* Utility classes for safe areas */
.pt-safe {
  padding-top: env(safe-area-inset-top);
}

.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

.px-safe {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* For sticky headers on iOS - they should stick to safe area top */
.safe-top {
  top: env(safe-area-inset-top);
}

/* iOS sticky header fix - adds padding to account for status bar */
.ios-sticky-header {
  padding-top: env(safe-area-inset-top);
  top: 0;
}

/* Remove double padding from navigation-glass since #root handles it */
@supports (padding-top: env(safe-area-inset-top)) {
  .navigation-glass {
    /* Removed padding-top since #root handles it */
  }
}