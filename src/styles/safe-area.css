/* iOS Safe Area Support */
:root {
  /* Define safe area variables for fallback */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Global fix: Root container setup for iOS */
#root {
  /* Add top padding for status bar/Dynamic Island */
  padding-top: env(safe-area-inset-top);
  /* Bottom padding for home indicator */
  padding-bottom: env(safe-area-inset-bottom);
  /* Side padding for landscape orientation */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  /* Full height without overflow issues */
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
  /* Allow normal scrolling */
  position: relative;
  /* Ensure white background */
  background-color: white;
}

/* IMPORTANT: Prevent any child from breaking out of safe area */
#root > * {
  max-width: 100%;
}

/* For pages that need to opt-out of root padding */
.no-safe-padding {
  margin-top: calc(-1 * env(safe-area-inset-top));
  margin-bottom: calc(-1 * env(safe-area-inset-bottom));
  margin-left: calc(-1 * env(safe-area-inset-left));
  margin-right: calc(-1 * env(safe-area-inset-right));
}

/* Utility classes for safe areas */
.pt-safe {
  padding-top: env(safe-area-inset-top);
}

.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

.px-safe {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* For sticky headers on iOS - they should stick to safe area top */
.safe-top {
  top: env(safe-area-inset-top);
}

/* iOS sticky header fix - adds padding to account for status bar */
.ios-sticky-header {
  padding-top: env(safe-area-inset-top);
  top: 0;
}

/* Sticky header needs to account for safe area */
header.sticky {
  /* Add safe area padding to sticky headers */
  padding-top: env(safe-area-inset-top);
}

/* Navigation glass should not have extra padding */
.navigation-glass {
  /* No extra padding - handled by parent header */
}